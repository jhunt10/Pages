[gd_scene load_steps=7 format=3 uid="uid://bs2y0o6uhl0sb"]

[ext_resource type="Texture2D" uid="uid://cp2wc5s8ju613" path="res://defs/Actors/Template_SpriteSheet.png" id="1_87d1n"]
[ext_resource type="Script" path="res://Scenes/Combat/MapObjects/Actors/SimpleActorNode/simple_actor_node.gd" id="1_bln3d"]
[ext_resource type="Script" path="res://Scenes/Combat/MapObjects/Actors/ComplexActorNode/actor_body_sprite.gd" id="2_e6ypm"]
[ext_resource type="Script" path="res://Scenes/Combat/MapObjects/vfx_holder.gd" id="3_soxfk"]
[ext_resource type="PackedScene" uid="uid://eox4g5msr5a" path="res://Scenes/Combat/Effects/flash_text_controller.tscn" id="4_4be7m"]
[ext_resource type="Script" path="res://Scenes/Combat/MapObjects/aura_holder.gd" id="6_mn18x"]

[node name="SimpleActorNode" type="Node2D" node_paths=PackedStringArray("vfx_holder", "aura_holder", "actor_sprite", "actor_motion_node", "offset_node", "damage_animation_player")]
script = ExtResource("1_bln3d")
vfx_holder = NodePath("ActorMotionNode/VFXHolder")
aura_holder = NodePath("AuraHolder")
actor_sprite = NodePath("ActorMotionNode/ActorSpriteNode/OffsetNode/ActorSprite")
actor_motion_node = NodePath("ActorMotionNode")
offset_node = NodePath("ActorMotionNode/ActorSpriteNode/OffsetNode")
damage_animation_player = NodePath("DamageAnimationPlayer")

[node name="ActorMotionNode" type="Node2D" parent="."]

[node name="ActorSpriteNode" type="Node2D" parent="ActorMotionNode"]

[node name="OffsetNode" type="Node2D" parent="ActorMotionNode/ActorSpriteNode"]
position = Vector2(0, -16)

[node name="ActorSprite" type="Sprite2D" parent="ActorMotionNode/ActorSpriteNode/OffsetNode"]
texture = ExtResource("1_87d1n")
hframes = 12
vframes = 4
script = ExtResource("2_e6ypm")
direction = 2

[node name="VFX_OffsetNode" type="Node2D" parent="ActorMotionNode/ActorSpriteNode/OffsetNode"]

[node name="VFXHolder" type="Node2D" parent="ActorMotionNode" node_paths=PackedStringArray("actor_node", "flash_text_controller", "offset_node")]
z_index = 3
script = ExtResource("3_soxfk")
actor_node = NodePath("../..")
flash_text_controller = NodePath("FlashTextController")
offset_node = NodePath("../ActorSpriteNode/OffsetNode/VFX_OffsetNode")

[node name="FlashTextController" parent="ActorMotionNode/VFXHolder" instance=ExtResource("4_4be7m")]
offset_top = -40.0
offset_bottom = -16.0
mouse_filter = 2

[node name="AuraHolder" type="Node2D" parent="."]
script = ExtResource("6_mn18x")

[node name="DamageAnimationPlayer" type="AnimationPlayer" parent="."]
